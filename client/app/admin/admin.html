<div class="container">
    <p>The delete user and user index api routes are restricted to users with the 'admin' role.</p>

  <uib-tabset active="activeUsers" justified="true">
    <uib-tab index="0" heading="Users">
      <ul class="list-group">
      <li ng-repeat="user in admin.users" class="list-group-item">
        <strong>{{user.name}}</strong><br/>
        <span class="text-muted">{{user.email}}</span>
        <a ng-click="admin.delete(user)" class="trash"><span class="glyphicon glyphicon-trash pull-right"></span></a></li>
      </ul>
    </uib-tab>
    <uib-tab index="1" heading="Matches">

      <table class="table">
      <thead>
      <tr>

        <th>poster</th>
        <th>date</th>
        <th>headline</th>
        <th>rival</th>
        <th>round</th>
      </tr>
      </thead>
      <tbody>
      <tr>

        <td><input type="text" name="poster" ng-model="admin.newMatch.poster" required="" /></td>
        <td><input type="datetime-local" name="date" ng-model="admin.newMatch.date" placeholder="yyyy-MM-dd H:mm" required="" /></td>
        <td><input type="text" name="headline" ng-model="admin.newMatch.headline" required="" /></td>
        <td><input type="text" name="rival" ng-model="admin.newMatch.rival" required="" /></td>
        <td><input type="text" name="round" ng-model="admin.newMatch.round" required="" /></td>
        <td>
          <button class="btn btn-primary btn-sm" ng-click="admin.save(admin.newMatch, '1')" ><span class="glyphicon glyphicon-ok"></span></button>
        </td>
      </tr>

        <tr ng-repeat="match in admin.matches">
          <td>
            <input type="text" name="poster" ng-model= "match.poster" required="" />
          </td>
          <td>
            <input type="datetime-local" ng-model="match.date" placeholder="yyyy-MM-dd H:mm" required />
          </td>
          <td>
            <input type="text" name="poster" ng-model= "match.headline" required="" />
          </td>
          <td>
            <input type="text" name="poster" ng-model= "match.rival" required="" />
          </td>
          <td>
            <input type="text" name="poster" ng-model= "match.round" required="" />
          </td>
          <td>
          <button class="btn btn-primary btn-sm" ng-click="admin.editMatch(match)" ><span class="glyphicon glyphicon-pencil"></span></button>
          </td>
          <td>
            <button class="btn btn-primary btn-sm" ng-click="admin.deleteMatch(match)" ><span class="glyphicon glyphicon-remove"></span></button>
          </td>
        </tr>
      </tbody>
      </table>

      {{ admin.newMatch }}


    </uib-tab>
    <uib-tab index="2" heading="Orders">
      <form name="myForm"><br>
        <label> Выберите матч: </label>
        <select class="form-control" name="repeat" id="repeatSelect" ng-change="admin.getCountPaidOrders(admin.matchDate)" ng-model="admin.matchDate">
          <option ng-repeat="option in admin.matches" value="{{option.date}}">{{option.headline}}</option>
        </select>
      </form>
      <hr>
      <table class="table">
        <thead>
        <tr>
          <th>Match date</th>
          <th>West tribune</th>
          <th>East tribune</th>
          <th>Total price</th>
        </tr>
        </thead>
        <tbody>
        <tr>
          <td ng-bind="admin.matchDate | date:'dd-MM-yyyy HH:mm:ss'">
          </td>
          <td ng-bind="admin.paidOrders.west">
          </td>
          <td ng-bind="admin.paidOrders.east">
          </td>
          <td ng-bind="admin.paidOrders.total | money">
          </td>
        </tr>
        </tbody>
      </table>
    </uib-tab>
  </uib-tabset>

</div>
